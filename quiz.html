<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EduHistoricalBootcamp</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
  </head>
  <body
    class="bg-light d-flex justify-content-center align-items-center min-vh-100"
  >
    <div class="card shadow p-4 w-100 my-5" style="max-width: 700px">
      <h2 class="text-center mb-3 fw-bold text-dark">Kuis EduHistory</h2>
      <p class="text-center text-muted">
        Uji pengetahuanmu tentang Sejarah Indonesia, Islam, dan Eropa!
      </p>

      <div id="quiz-content">
        <div id="question" class="fs-5 fw-semibold mb-3 text-center"></div>
        <div id="answers" class="mb-3"></div>

        <div class="d-flex justify-content-between">
          <button
            onclick="prevQuestion()"
            id="prevBtn"
            class="btn btn-secondary d-none"
          >
            Sebelumnya
          </button>
          <button onclick="nextQuestion()" id="nextBtn" class="btn btn-primary">
            Selanjutnya
          </button>
        </div>

        <div
          id="result"
          class="mt-5 fs-4 fw-bold text-success text-center"
        ></div>

        <div id="explanations" class="mt-4"></div>

        <div class="text-center mt-4">
          <a
            href="index.html"
            class="btn btn-outline-primary d-none"
            id="backBtn"
            >Kembali ke Beranda</a
          >
        </div>
      </div>
    </div>

    <script>
      const questions = [
        {
          question:
            "Siapakah tokoh yang dikenal sebagai Bapak Proklamator Indonesia?",
          options: [
            "Mohammad Hatta",
            "Soekarno",
            "Sutan Sjahrir",
            "Ahmad Yani",
          ],
          correct: "Soekarno",
          explanation:
            "Soekarno bersama Mohammad Hatta memproklamasikan kemerdekaan Indonesia pada 17 Agustus 1945 dan dikenal sebagai Proklamator.",
        },
        {
          question:
            "Peristiwa hijrah Nabi Muhammad SAW dari Mekkah ke Madinah terjadi pada tahun?",
          options: ["610 M", "622 M", "632 M", "571 M"],
          correct: "622 M",
          explanation:
            "Hijrah terjadi pada tahun 622 M dan menjadi awal penanggalan kalender Hijriyah dalam Islam.",
        },
        {
          question:
            "Apa nama revolusi besar yang terjadi di Prancis pada tahun 1789?",
          options: [
            "Revolusi Industri",
            "Perang Dunia I",
            "Revolusi Prancis",
            "Revolusi Bolshevik",
          ],
          correct: "Revolusi Prancis",
          explanation:
            "Revolusi Prancis terjadi pada 1789 dan menggulingkan monarki, menandai munculnya demokrasi dan hak asasi manusia di Eropa.",
        },
        {
          question:
            "Kerajaan Hindu-Buddha tertua di Indonesia yang diketahui adalah?",
          options: ["Majapahit", "Sriwijaya", "Tarumanegara", "Kutai"],
          correct: "Kutai",
          explanation:
            "Kutai adalah kerajaan tertua di Indonesia yang diperkirakan berdiri pada abad ke-4 Masehi di Kalimantan Timur.",
        },
        {
          question:
            "Siapakah khalifah pertama setelah wafatnya Nabi Muhammad SAW?",
          options: [
            "Umar bin Khattab",
            "Ali bin Abi Thalib",
            "Utsman bin Affan",
            "Abu Bakar Ash-Shiddiq",
          ],
          correct: "Abu Bakar Ash-Shiddiq",
          explanation:
            "Abu Bakar Ash-Shiddiq ditunjuk sebagai khalifah pertama dan memimpin umat Islam setelah wafatnya Nabi Muhammad SAW.",
        },
        {
          question: "Perang Dunia II berakhir pada tahun berapa?",
          options: ["1918", "1939", "1945", "1950"],
          correct: "1945",
          explanation:
            "Perang Dunia II berakhir pada tahun 1945 setelah Jepang menyerah kepada Sekutu pada bulan Agustus.",
        },
      ];

      let currentQuestion = 0;
      let score = 0;
      let userAnswers = Array(questions.length).fill(null);

      function loadQuestion() {
        const q = questions[currentQuestion];
        document.getElementById("question").innerText = q.question;
        const answersDiv = document.getElementById("answers");
        answersDiv.innerHTML = "";

        q.options.forEach((option) => {
          const isChecked =
            userAnswers[currentQuestion] === option ? "checked" : "";
          const input = `
          <div class="form-check">
            <input class="form-check-input" type="radio" name="answer" value="${option}" ${isChecked}>
            <label class="form-check-label">${option}</label>
          </div>`;
          answersDiv.innerHTML += input;
        });

        document
          .getElementById("prevBtn")
          .classList.toggle("d-none", currentQuestion === 0);
      }

      function nextQuestion() {
        const selected = document.querySelector('input[name="answer"]:checked');
        if (!selected) {
          alert("Silakan pilih jawaban terlebih dahulu!");
          return;
        }

        const answer = selected.value;
        const prevAnswer = userAnswers[currentQuestion];
        userAnswers[currentQuestion] = answer;

        if (
          answer === questions[currentQuestion].correct &&
          prevAnswer !== questions[currentQuestion].correct
        ) {
          score++;
        }
        if (
          answer !== questions[currentQuestion].correct &&
          prevAnswer === questions[currentQuestion].correct
        ) {
          score--;
        }

        currentQuestion++;
        if (currentQuestion < questions.length) {
          loadQuestion();
        } else {
          showResult();
        }
      }

      function prevQuestion() {
        if (currentQuestion > 0) {
          currentQuestion--;
          loadQuestion();
        }
      }

      function showResult() {
        document.getElementById("question").style.display = "none";
        document.getElementById("answers").style.display = "none";
        document.getElementById("nextBtn").style.display = "none";
        document.getElementById("prevBtn").style.display = "none";

        document.getElementById(
          "result"
        ).innerHTML = `ðŸŽ‰ <strong>Skor akhir Anda:</strong> <span class="text-primary">${score}</span> dari <strong>${questions.length}</strong>`;

        document.getElementById("backBtn").classList.remove("d-none");

        const explanationsDiv = document.getElementById("explanations");
        explanationsDiv.innerHTML = `<h5 class="mt-5 text-danger">Ulasan Jawaban yang Salah:</h5>`;

        questions.forEach((q, i) => {
          if (userAnswers[i] !== q.correct) {
            explanationsDiv.innerHTML += `
            <div class="mt-3 p-3 border rounded bg-white">
              <p><strong>Soal:</strong> ${q.question}</p>
              <p><strong>Jawaban Anda:</strong> <span class="text-danger">${
                userAnswers[i] || "Tidak dijawab"
              }</span></p>
              <p><strong>Jawaban yang benar:</strong> <span class="text-success">${
                q.correct
              }</span></p>
              <p><em>${q.explanation}</em></p>
            </div>
          `;
          }
        });

        if (score === questions.length) {
          explanationsDiv.innerHTML = `<p class="text-success text-center mt-4">ðŸŽ‰ Luar biasa! Semua jawaban Anda benar.</p>`;
        }
      }

      window.onload = loadQuestion;
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
